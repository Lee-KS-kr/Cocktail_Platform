<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Login</title>
<script th:src="@{/jQuery/jquery-3.7.0.js}"></script>
<script>
$(document).ready(function(){
    
});

function submitChk(){
    let id = $('#id').val();

    $.ajax({
            url:'checkId', 
            type:'post', 
            data:{memberId:id},
            success:function(cnt){ 
                if(cnt == 0){  
                    alert("아이디를 확인해주세요");
                    id == '';
                } else { 
                	$('#corpLogin').submit();
                }
            },
            error:function(){
                alert("에러입니다");
            }
        });
}


</script>
<link rel="stylesheet" th:href="@{/CSS/login.css}">
</head>
<body>
	<main>
        <div class="title">
            <h1 class="title">로그인</h1>
        </div>
        <form id="corpLogin" th:action="@{/loginForm}" method="post">
            <div class="form-group">
                <input type="text" class="form-text"
                    id="memberId" placeholder="ID를 입력해주세요." required>
            </div>
            <div class="form-group">
                <input type="password" class="form-text"
                    id="memberPw" placeholder="비밀번호를 입력해주세요." required>
            </div>
            <input type="button" value="로그인" class="bottom" onclick="submitChk()">
            
        </form>
        <hr>
        <div class="text-bottom-container">
            <a class="text-bottom" th:href="@{/member/findId}">아이디 찾기·비밀번호 찾기</a>
            <a class="text-bottom" th:href="@{/member/resetPw}">비밀번호 찾기</a>
            <a class="text-bottom" th:href="@{/member/join}">회원가입</a>
        </div>
    </main>
</body>
</html>
